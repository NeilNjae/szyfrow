<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>szyfrow.cadenus API documentation</title>
<meta name="description" content="Enciphering and deciphering using the [Cadenus cipher](https://www.thonky.com/kryptos/cadenus-cipher).
Also attempts to break messages that use a â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>szyfrow.cadenus</code></h1>
</header>
<section id="section-intro">
<p>Enciphering and deciphering using the <a href="https://www.thonky.com/kryptos/cadenus-cipher">Cadenus cipher</a>.
Also attempts to break messages that use a Cadenus cipher.</p>
<p>The plaintext is written out in a grid, with one column per letter of the
keyword. The plaintext is written out left to right in rows. The plaintext
needs to fill 25 rows: if it is shorter, the text is padded; if longer, it is
broken into 25-row chunks.</p>
<p>For instance, the 100 letter chunk:</p>
<blockquote>
<p>Whoever has made a voyage up the Hudson must remember the Kaatskill mountains.
They are a dismembered branch of the great</p>
</blockquote>
<p>and the keyword "wink" would written out as the leftmost grid below.</p>
<p>The columns are then rotated according to the <em>keycolumn</em>. For each column, the
keyword letter in that column is found in the keycolumn. This identifies a
specific row in the grid. That column only is rotated upwards until the selected
row is at the top of the column. Each column is rotated independently, according
to its keyword letter.</p>
<p>For instance, the middle grid below is formed from the leftmost grid by
rotating the first column up four positions, the second column up 17 positions,
and so on. (The letters chosen to head the new colums are capitalised in the
leftmost grid.)</p>
<p>Finally, each row is transposed given the alphabetic order of the keyword (as
seen in the rightmost grid below).</p>
<p>The ciphertext is read out in rows, starting with the now-leftmost column. For
the example, the ciphertext would be </p>
<blockquote>
<p>antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaasuvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned'</p>
</blockquote>
<pre><code>w i n k         w i n k    i k n w
-------         -------    -------
w h o e    a    o a t n    a n t o
v e r h    z    e d l e    d e l e
a s m a    y    h e u e    e e u h
d e a v    x    d r i s    r s i d
O y a g    vw   m r h b    r b h m
e u p t    u    r h r d    h d r r
h e h u    t    m h i n    h n i m
d s o n    s    t e m f    e f m t
m u s t    r    a h e g    h g e a
r e m e    q    k e a t    e t a k
m b e r    p    m s o e    s e o m
t h e k    o    t e e h    e h e t
a a T s    n    s y a a    y a a s
k i l l    m    y u o v    u v o y
m o u n    l    a e r g    e g r a
t a i N    k    m s m t    s t m m
s t h e    j    e u a u    u u a e
y A r e    i    b e a n    e n a b
a d i s    h    c b p t    b t p c
m e m b    g    t h h e    h e h t
e r e d    f    r a o r    a r o r
b r a n    e    w i s k    i k s w
c h o f    d    v o m s    o s m v
t h e g    c    a a e l    a l e a
r e a t    b    d t e n    t n e d
</code></pre>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Enciphering and deciphering using the [Cadenus cipher](https://www.thonky.com/kryptos/cadenus-cipher). 
Also attempts to break messages that use a Cadenus cipher.

The plaintext is written out in a grid, with one column per letter of the 
keyword. The plaintext is written out left to right in rows. The plaintext 
needs to fill 25 rows: if it is shorter, the text is padded; if longer, it is
broken into 25-row chunks.

For instance, the 100 letter chunk:

&gt; Whoever has made a voyage up the Hudson must remember the Kaatskill mountains. 
&gt; They are a dismembered branch of the great

and the keyword &#34;wink&#34; would written out as the leftmost grid below.

The columns are then rotated according to the _keycolumn_. For each column, the
keyword letter in that column is found in the keycolumn. This identifies a 
specific row in the grid. That column only is rotated upwards until the selected
row is at the top of the column. Each column is rotated independently, according
to its keyword letter.

For instance, the middle grid below is formed from the leftmost grid by 
rotating the first column up four positions, the second column up 17 positions,
and so on. (The letters chosen to head the new colums are capitalised in the
leftmost grid.)

Finally, each row is transposed given the alphabetic order of the keyword (as
seen in the rightmost grid below).

The ciphertext is read out in rows, starting with the now-leftmost column. For
the example, the ciphertext would be 

&gt; antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaasuvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned&#39;

```
w i n k         w i n k    i k n w
-------         -------    -------
w h o e    a    o a t n    a n t o
v e r h    z    e d l e    d e l e
a s m a    y    h e u e    e e u h
d e a v    x    d r i s    r s i d
O y a g    vw   m r h b    r b h m
e u p t    u    r h r d    h d r r
h e h u    t    m h i n    h n i m
d s o n    s    t e m f    e f m t
m u s t    r    a h e g    h g e a
r e m e    q    k e a t    e t a k
m b e r    p    m s o e    s e o m
t h e k    o    t e e h    e h e t
a a T s    n    s y a a    y a a s
k i l l    m    y u o v    u v o y
m o u n    l    a e r g    e g r a
t a i N    k    m s m t    s t m m
s t h e    j    e u a u    u u a e
y A r e    i    b e a n    e n a b
a d i s    h    c b p t    b t p c
m e m b    g    t h h e    h e h t
e r e d    f    r a o r    a r o r
b r a n    e    w i s k    i k s w
c h o f    d    v o m s    o s m v
t h e g    c    a a e l    a l e a
r e a t    b    d t e n    t n e d
```

&#34;&#34;&#34;
from itertools import chain
import multiprocessing
from szyfrow.support.utilities import *
from szyfrow.support.language_models import *


def make_cadenus_keycolumn(doubled_letters = &#39;vw&#39;, start=&#39;a&#39;, reverse=False):
    &#34;&#34;&#34;Makes the key column for a Cadenus cipher (the column down between the
        rows of letters)

    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;a&#39;]
    0
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;b&#39;]
    1
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;c&#39;]
    2
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;v&#39;]
    21
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;w&#39;]
    21
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;z&#39;]
    24
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;a&#39;]
    1
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;b&#39;]
    0
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;c&#39;]
    24
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;i&#39;]
    18
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;j&#39;]
    18
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;v&#39;]
    6
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;z&#39;]
    2
    &#34;&#34;&#34;
    index_to_remove = string.ascii_lowercase.find(doubled_letters[0])
    short_alphabet = string.ascii_lowercase[:index_to_remove] + string.ascii_lowercase[index_to_remove+1:]
    if reverse:
        short_alphabet = cat(reversed(short_alphabet))
    start_pos = short_alphabet.find(start)
    rotated_alphabet = short_alphabet[start_pos:] + short_alphabet[:start_pos]
    keycolumn = {l: i for i, l in enumerate(rotated_alphabet)}
    keycolumn[doubled_letters[0]] = keycolumn[doubled_letters[1]]
    return keycolumn

def cadenus_encipher(message, keyword, keycolumn, fillvalue=&#39;a&#39;):
    &#34;&#34;&#34;Encipher with the Cadenus cipher

    &gt;&gt;&gt; cadenus_encipher(sanitise(&#39;Whoever has made a voyage up the Hudson &#39; \
                                  &#39;must remember the Kaatskill mountains. &#39; \
                                  &#39;They are a dismembered branch of the great&#39;), \
                &#39;wink&#39;, \
                make_cadenus_keycolumn(doubled_letters=&#39;vw&#39;, start=&#39;a&#39;, reverse=True))
    &#39;antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaasuvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned&#39;
    &gt;&gt;&gt; cadenus_encipher(sanitise(&#39;a severe limitation on the usefulness of &#39; \
                                  &#39;the cadenus is that every message must be &#39; \
                                  &#39;a multiple of twenty-five letters long&#39;), \
                &#39;easy&#39;, \
                make_cadenus_keycolumn(doubled_letters=&#39;vw&#39;, start=&#39;a&#39;, reverse=True))
    &#39;systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtofarenuseieeieltarlmentieetogevesitfaisltngeeuvowul&#39;
    &#34;&#34;&#34;
    transpositions = transpositions_of(keyword)
    enciphered_chunks = []
    for message_chunk in chunks(message, len(transpositions) * 25, 
                                fillvalue=fillvalue):
        rows = chunks(message_chunk, len(transpositions), fillvalue=fillvalue)
        columns = zip(*rows)
        rotated_columns = [col[start:] + col[:start] for start, col in zip([keycolumn[l] for l in keyword], columns)]    
        rotated_rows = zip(*rotated_columns)
        transposed = [transpose(r, transpositions) for r in rotated_rows]
        enciphered_chunks.append(cat(chain(*transposed)))
    return cat(enciphered_chunks)

def cadenus_decipher(message, keyword, keycolumn, fillvalue=&#39;a&#39;):
    &#34;&#34;&#34;
    &gt;&gt;&gt; cadenus_decipher(&#39;antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaa&#39; \
                         &#39;suvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned&#39;, \
                 &#39;wink&#39;, \
                 make_cadenus_keycolumn(reverse=True))
    &#39;whoeverhasmadeavoyageupthehudsonmustrememberthekaatskillmountainstheyareadismemberedbranchofthegreat&#39;
    &gt;&gt;&gt; cadenus_decipher(&#39;systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtof&#39; \
                        &#39;arenuseieeieltarlmentieetogevesitfaisltngeeuvowul&#39;, \
                 &#39;easy&#39;, \
                 make_cadenus_keycolumn(reverse=True))
    &#39;aseverelimitationontheusefulnessofthecadenusisthateverymessagemustbeamultipleoftwentyfiveletterslong&#39;
    &#34;&#34;&#34;
    transpositions = transpositions_of(keyword)
    deciphered_chunks = []
    for message_chunk in chunks(message, len(transpositions) * 25, 
                                fillvalue=fillvalue):
        rows = chunks(message_chunk, len(transpositions), fillvalue=fillvalue)
        untransposed_rows = [untranspose(r, transpositions) for r in rows]
        columns = zip(*untransposed_rows)
        rotated_columns = [col[-start:] + col[:-start] for start, col in zip([keycolumn[l] for l in keyword], columns)]    
        rotated_rows = zip(*rotated_columns)
        deciphered_chunks.append(cat(chain(*rotated_rows)))
    return cat(deciphered_chunks)
    


def cadenus_break(message, wordlist=None, 
    doubled_letters=&#39;vw&#39;, fitness=Pbigrams):
    &#34;&#34;&#34;Breaks a Cadenus cipher using a dictionary and
    frequency analysis

    If `wordlist` is not specified, use 
    [`szyfrow.support.langauge_models.keywords`](support/language_models.html#szyfrow.support.language_models.keywords).
    &#34;&#34;&#34;
    if wordlist is None:
        wordlist = keywords

    # c = make_cadenus_keycolumn(reverse=True)
    # valid_words = [w for w in wordlist
    #     if len(transpositions_of(w)) == len(message) // 25]
    with multiprocessing.Pool() as pool:
        results = pool.starmap(cadenus_break_worker, 
                [(message, w, 
                    make_cadenus_keycolumn(doubled_letters=doubled_letters, 
                        start=s, reverse=r), 
                    fitness)
                for w in wordlist 
                for s in string.ascii_lowercase 
                for r in [True, False]
                # if max(transpositions_of(w)) &lt;= len(
                #     make_cadenus_keycolumn(
                #         doubled_letters=doubled_letters, start=s, reverse=r))
                ])
    # return list(results)
    return max(results, key=lambda k: k[1])

def cadenus_break_worker(message, keyword, keycolumn, fitness):
    # message_chunks = chunks(message, 175)
    # plaintext = &#39;&#39;.join(cadenus_decipher(c, keyword, keycolumn) for c in message_chunks)
    plaintext = cadenus_decipher(message, keyword, keycolumn)
    fit = fitness(plaintext)
    return (keyword, keycolumn), fit

if __name__ == &#34;__main__&#34;:
    import doctest</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="szyfrow.cadenus.cadenus_break"><code class="name flex">
<span>def <span class="ident">cadenus_break</span></span>(<span>message, wordlist=None, doubled_letters='vw', fitness=&lt;function Pbigrams&gt;)</span>
</code></dt>
<dd>
<div class="desc"><p>Breaks a Cadenus cipher using a dictionary and
frequency analysis</p>
<p>If <code>wordlist</code> is not specified, use
<a href="support/language_models.html#szyfrow.support.language_models.keywords"><code>szyfrow.support.langauge_models.keywords</code></a>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cadenus_break(message, wordlist=None, 
    doubled_letters=&#39;vw&#39;, fitness=Pbigrams):
    &#34;&#34;&#34;Breaks a Cadenus cipher using a dictionary and
    frequency analysis

    If `wordlist` is not specified, use 
    [`szyfrow.support.langauge_models.keywords`](support/language_models.html#szyfrow.support.language_models.keywords).
    &#34;&#34;&#34;
    if wordlist is None:
        wordlist = keywords

    # c = make_cadenus_keycolumn(reverse=True)
    # valid_words = [w for w in wordlist
    #     if len(transpositions_of(w)) == len(message) // 25]
    with multiprocessing.Pool() as pool:
        results = pool.starmap(cadenus_break_worker, 
                [(message, w, 
                    make_cadenus_keycolumn(doubled_letters=doubled_letters, 
                        start=s, reverse=r), 
                    fitness)
                for w in wordlist 
                for s in string.ascii_lowercase 
                for r in [True, False]
                # if max(transpositions_of(w)) &lt;= len(
                #     make_cadenus_keycolumn(
                #         doubled_letters=doubled_letters, start=s, reverse=r))
                ])
    # return list(results)
    return max(results, key=lambda k: k[1])</code></pre>
</details>
</dd>
<dt id="szyfrow.cadenus.cadenus_break_worker"><code class="name flex">
<span>def <span class="ident">cadenus_break_worker</span></span>(<span>message, keyword, keycolumn, fitness)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cadenus_break_worker(message, keyword, keycolumn, fitness):
    # message_chunks = chunks(message, 175)
    # plaintext = &#39;&#39;.join(cadenus_decipher(c, keyword, keycolumn) for c in message_chunks)
    plaintext = cadenus_decipher(message, keyword, keycolumn)
    fit = fitness(plaintext)
    return (keyword, keycolumn), fit</code></pre>
</details>
</dd>
<dt id="szyfrow.cadenus.cadenus_decipher"><code class="name flex">
<span>def <span class="ident">cadenus_decipher</span></span>(<span>message, keyword, keycolumn, fillvalue='a')</span>
</code></dt>
<dd>
<div class="desc"><pre><code class="language-python-repl">&gt;&gt;&gt; cadenus_decipher('antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaa'                          'suvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned',                  'wink',                  make_cadenus_keycolumn(reverse=True))
'whoeverhasmadeavoyageupthehudsonmustrememberthekaatskillmountainstheyareadismemberedbranchofthegreat'
&gt;&gt;&gt; cadenus_decipher('systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtof'                         'arenuseieeieltarlmentieetogevesitfaisltngeeuvowul',                  'easy',                  make_cadenus_keycolumn(reverse=True))
'aseverelimitationontheusefulnessofthecadenusisthateverymessagemustbeamultipleoftwentyfiveletterslong'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cadenus_decipher(message, keyword, keycolumn, fillvalue=&#39;a&#39;):
    &#34;&#34;&#34;
    &gt;&gt;&gt; cadenus_decipher(&#39;antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaa&#39; \
                         &#39;suvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned&#39;, \
                 &#39;wink&#39;, \
                 make_cadenus_keycolumn(reverse=True))
    &#39;whoeverhasmadeavoyageupthehudsonmustrememberthekaatskillmountainstheyareadismemberedbranchofthegreat&#39;
    &gt;&gt;&gt; cadenus_decipher(&#39;systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtof&#39; \
                        &#39;arenuseieeieltarlmentieetogevesitfaisltngeeuvowul&#39;, \
                 &#39;easy&#39;, \
                 make_cadenus_keycolumn(reverse=True))
    &#39;aseverelimitationontheusefulnessofthecadenusisthateverymessagemustbeamultipleoftwentyfiveletterslong&#39;
    &#34;&#34;&#34;
    transpositions = transpositions_of(keyword)
    deciphered_chunks = []
    for message_chunk in chunks(message, len(transpositions) * 25, 
                                fillvalue=fillvalue):
        rows = chunks(message_chunk, len(transpositions), fillvalue=fillvalue)
        untransposed_rows = [untranspose(r, transpositions) for r in rows]
        columns = zip(*untransposed_rows)
        rotated_columns = [col[-start:] + col[:-start] for start, col in zip([keycolumn[l] for l in keyword], columns)]    
        rotated_rows = zip(*rotated_columns)
        deciphered_chunks.append(cat(chain(*rotated_rows)))
    return cat(deciphered_chunks)</code></pre>
</details>
</dd>
<dt id="szyfrow.cadenus.cadenus_encipher"><code class="name flex">
<span>def <span class="ident">cadenus_encipher</span></span>(<span>message, keyword, keycolumn, fillvalue='a')</span>
</code></dt>
<dd>
<div class="desc"><p>Encipher with the Cadenus cipher</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; cadenus_encipher(sanitise('Whoever has made a voyage up the Hudson '                                   'must remember the Kaatskill mountains. '                                   'They are a dismembered branch of the great'),                 'wink',                 make_cadenus_keycolumn(doubled_letters='vw', start='a', reverse=True))
'antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaasuvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned'
&gt;&gt;&gt; cadenus_encipher(sanitise('a severe limitation on the usefulness of '                                   'the cadenus is that every message must be '                                   'a multiple of twenty-five letters long'),                 'easy',                 make_cadenus_keycolumn(doubled_letters='vw', start='a', reverse=True))
'systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtofarenuseieeieltarlmentieetogevesitfaisltngeeuvowul'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cadenus_encipher(message, keyword, keycolumn, fillvalue=&#39;a&#39;):
    &#34;&#34;&#34;Encipher with the Cadenus cipher

    &gt;&gt;&gt; cadenus_encipher(sanitise(&#39;Whoever has made a voyage up the Hudson &#39; \
                                  &#39;must remember the Kaatskill mountains. &#39; \
                                  &#39;They are a dismembered branch of the great&#39;), \
                &#39;wink&#39;, \
                make_cadenus_keycolumn(doubled_letters=&#39;vw&#39;, start=&#39;a&#39;, reverse=True))
    &#39;antodeleeeuhrsidrbhmhdrrhnimefmthgeaetakseomehetyaasuvoyegrastmmuuaeenabbtpchehtarorikswosmvaleatned&#39;
    &gt;&gt;&gt; cadenus_encipher(sanitise(&#39;a severe limitation on the usefulness of &#39; \
                                  &#39;the cadenus is that every message must be &#39; \
                                  &#39;a multiple of twenty-five letters long&#39;), \
                &#39;easy&#39;, \
                make_cadenus_keycolumn(doubled_letters=&#39;vw&#39;, start=&#39;a&#39;, reverse=True))
    &#39;systretomtattlusoatleeesfiyheasdfnmschbhneuvsnpmtofarenuseieeieltarlmentieetogevesitfaisltngeeuvowul&#39;
    &#34;&#34;&#34;
    transpositions = transpositions_of(keyword)
    enciphered_chunks = []
    for message_chunk in chunks(message, len(transpositions) * 25, 
                                fillvalue=fillvalue):
        rows = chunks(message_chunk, len(transpositions), fillvalue=fillvalue)
        columns = zip(*rows)
        rotated_columns = [col[start:] + col[:start] for start, col in zip([keycolumn[l] for l in keyword], columns)]    
        rotated_rows = zip(*rotated_columns)
        transposed = [transpose(r, transpositions) for r in rotated_rows]
        enciphered_chunks.append(cat(chain(*transposed)))
    return cat(enciphered_chunks)</code></pre>
</details>
</dd>
<dt id="szyfrow.cadenus.cat"><code class="name flex">
<span>def <span class="ident">cat</span></span>(<span>iterable, /)</span>
</code></dt>
<dd>
<div class="desc"><p>Concatenate any number of strings.</p>
<p>The string whose method is called is inserted in between each given string.
The result is returned as a new string.</p>
<p>Example: '.'.join(['ab', 'pq', 'rs']) -&gt; 'ab.pq.rs'</p></div>
</dd>
<dt id="szyfrow.cadenus.lcat"><code class="name flex">
<span>def <span class="ident">lcat</span></span>(<span>iterable, /)</span>
</code></dt>
<dd>
<div class="desc"><p>Concatenate any number of strings.</p>
<p>The string whose method is called is inserted in between each given string.
The result is returned as a new string.</p>
<p>Example: '.'.join(['ab', 'pq', 'rs']) -&gt; 'ab.pq.rs'</p></div>
</dd>
<dt id="szyfrow.cadenus.make_cadenus_keycolumn"><code class="name flex">
<span>def <span class="ident">make_cadenus_keycolumn</span></span>(<span>doubled_letters='vw', start='a', reverse=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Makes the key column for a Cadenus cipher (the column down between the
rows of letters)</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; make_cadenus_keycolumn()['a']
0
&gt;&gt;&gt; make_cadenus_keycolumn()['b']
1
&gt;&gt;&gt; make_cadenus_keycolumn()['c']
2
&gt;&gt;&gt; make_cadenus_keycolumn()['v']
21
&gt;&gt;&gt; make_cadenus_keycolumn()['w']
21
&gt;&gt;&gt; make_cadenus_keycolumn()['z']
24
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['a']
1
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['b']
0
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['c']
24
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['i']
18
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['j']
18
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['v']
6
&gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters='ij', start='b', reverse=True)['z']
2
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def make_cadenus_keycolumn(doubled_letters = &#39;vw&#39;, start=&#39;a&#39;, reverse=False):
    &#34;&#34;&#34;Makes the key column for a Cadenus cipher (the column down between the
        rows of letters)

    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;a&#39;]
    0
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;b&#39;]
    1
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;c&#39;]
    2
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;v&#39;]
    21
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;w&#39;]
    21
    &gt;&gt;&gt; make_cadenus_keycolumn()[&#39;z&#39;]
    24
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;a&#39;]
    1
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;b&#39;]
    0
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;c&#39;]
    24
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;i&#39;]
    18
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;j&#39;]
    18
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;v&#39;]
    6
    &gt;&gt;&gt; make_cadenus_keycolumn(doubled_letters=&#39;ij&#39;, start=&#39;b&#39;, reverse=True)[&#39;z&#39;]
    2
    &#34;&#34;&#34;
    index_to_remove = string.ascii_lowercase.find(doubled_letters[0])
    short_alphabet = string.ascii_lowercase[:index_to_remove] + string.ascii_lowercase[index_to_remove+1:]
    if reverse:
        short_alphabet = cat(reversed(short_alphabet))
    start_pos = short_alphabet.find(start)
    rotated_alphabet = short_alphabet[start_pos:] + short_alphabet[:start_pos]
    keycolumn = {l: i for i, l in enumerate(rotated_alphabet)}
    keycolumn[doubled_letters[0]] = keycolumn[doubled_letters[1]]
    return keycolumn</code></pre>
</details>
</dd>
<dt id="szyfrow.cadenus.wcat"><code class="name flex">
<span>def <span class="ident">wcat</span></span>(<span>iterable, /)</span>
</code></dt>
<dd>
<div class="desc"><p>Concatenate any number of strings.</p>
<p>The string whose method is called is inserted in between each given string.
The result is returned as a new string.</p>
<p>Example: '.'.join(['ab', 'pq', 'rs']) -&gt; 'ab.pq.rs'</p></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="szyfrow" href="index.html">szyfrow</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="szyfrow.cadenus.cadenus_break" href="#szyfrow.cadenus.cadenus_break">cadenus_break</a></code></li>
<li><code><a title="szyfrow.cadenus.cadenus_break_worker" href="#szyfrow.cadenus.cadenus_break_worker">cadenus_break_worker</a></code></li>
<li><code><a title="szyfrow.cadenus.cadenus_decipher" href="#szyfrow.cadenus.cadenus_decipher">cadenus_decipher</a></code></li>
<li><code><a title="szyfrow.cadenus.cadenus_encipher" href="#szyfrow.cadenus.cadenus_encipher">cadenus_encipher</a></code></li>
<li><code><a title="szyfrow.cadenus.cat" href="#szyfrow.cadenus.cat">cat</a></code></li>
<li><code><a title="szyfrow.cadenus.lcat" href="#szyfrow.cadenus.lcat">lcat</a></code></li>
<li><code><a title="szyfrow.cadenus.make_cadenus_keycolumn" href="#szyfrow.cadenus.make_cadenus_keycolumn">make_cadenus_keycolumn</a></code></li>
<li><code><a title="szyfrow.cadenus.wcat" href="#szyfrow.cadenus.wcat">wcat</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>